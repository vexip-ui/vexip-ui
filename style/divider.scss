@use 'sass:map';

@use '../design' as *;

$divider: () !default;
$divider: map.merge(
  (
    border-color: get-css-var('border-color-light-2'),
    border: get-css-var('border-appearance') get-css-var('divider-border-color'),
    v-margin: 24px 0,
    v-margin-text: 14px 0,
    h-margin: 0 0.6em,
    text-padding: 0 1em,
    text-size-primary: get-css-var('font-size-primary'),
  ),
  $divider
);

.vxp-divider {
  &-vars {
    @include define-preset-values('divider', $divider);
  }

  @include basis;

  display: flex;
  padding: 0;
  border-top: get-css-var('divider-border');

  &--horizontal {
    width: 100%;
    margin: get-css-var('divider-v-margin');
    clear: both;
  }

  &--vertical {
    position: relative;
    display: inline-block;
    height: 1em;
    margin: get-css-var('divider-h-margin');
    vertical-align: middle;
    border-top: 0;
    border-left: get-css-var('divider-border');
  }

  &--with-text {
    margin: get-css-var('divider-v-margin');
    text-align: center;
    white-space: nowrap;
    border-top: 0;

    &::before,
    &::after {
      position: relative;
      top: 50%;
      width: 50%;
      content: '';
      border-top: get-css-var('divider-border');
      transform: translateY(50%);
    }
  }

  &--with-text-left {
    &::before {
      width: 5%;
    }

    &::after {
      width: 95%;
    }
  }

  &--with-text-right {
    &::before {
      width: 95%;
    }

    &::after {
      width: 5%;
    }
  }

  &--dashed {
    &,
    &::before,
    &::after {
      border-top-style: dashed;
    }
  }

  &__text {
    display: inline-block;
    padding: get-css-var('divider-text-padding');
    color: get-css-var('divider-text-color');
    text-align: center;
    white-space: nowrap;
  }

  &--primary &__text {
    font-size: get-css-var('divider-text-size-primary');
    font-weight: 500;
  }
}

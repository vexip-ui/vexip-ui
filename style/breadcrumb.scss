@use 'sass:map';

@use '../design' as *;

$breadcrumb: () !default;
$breadcrumb: map.merge(
  (
    border-color: get-css-var('border-color-base'),
    border-color-hover: get-css-var('color-primary-light-1'),
    border-appearance: get-css-var('border-appearance'),
    border-radius: get-css-var('border-radius-base'),
    border-padding: 0.3em 0.6em,
    item-bg-color: transparent,
    item-bg-color-hover: get-css-var('color-primary-light-9'),
    item-border-color: transparent,
    item-border-color-hover: get-css-var('color-primary-light-7'),
    item-border-radius: get-css-var('border-radius-small'),
    label-color-hover: get-css-var('color-primary-base'),
    separator-color: get-css-var('content-color-placeholder'),
    separator-color-hover: get-css-var('color-primary-base')
  ),
  $breadcrumb
);

.vxp-breadcrumb {
  &-vars {
    @include define-preset-values('breadcrumb', $breadcrumb);
  }

  $border-a: get-css-var('breadcrumb-border-appearance');

  @include basis;

  position: relative;
  display: flex;
  align-items: center;

  &--border {
    // height: 2.1em;
    padding: get-css-var('breadcrumb-border-padding');
    border: $border-a get-css-var('breadcrumb-border-color');
    border-radius: get-css-var('breadcrumb-border-radius');
    transition: get-css-var('transition-border');

    &:hover {
      border-color: get-css-var('breadcrumb-border-color-hover');
    }
  }

  &__item {
    display: flex;
    align-items: center;
    background-color: get-css-var('breadcrumb-item-bg-color');
    border: $border-a get-css-var('breadcrumb-item-border-color');
    border-radius: get-css-var('breadcrumb-item-border-radius');
    transition: get-css-var('transition-background');
  }

  &--border &__item:hover {
    background-color: get-css-var('breadcrumb-item-bg-color-hover');
    border-color: get-css-var('breadcrumb-item-border-color-hover');
  }

  &__label {
    padding: 0 0.4em;
    cursor: pointer;
    transition: get-css-var('transition-color');

    &:hover {
      color: get-css-var('breadcrumb-label-color-hover');
    }
  }

  &__separator {
    padding: 0 0.4em;
    cursor: pointer;
    user-select: none;
    border-right: $border-a transparent;
    border-left: $border-a transparent;
    transition: get-css-var('transition-color'), get-css-var('transition-border');

    &,
    .vxp-icon {
      color: get-css-var('breadcrumb-separator-color');
    }

    &:hover {
      &,
      .vxp-icon {
        color: get-css-var('breadcrumb-separator-color-hover');
      }
    }
  }

  &__item:last-child &__separator {
    display: none;
  }

  &--border &__item:hover &__separator {
    border-left-color: get-css-var('breadcrumb-item-border-color-hover');
  }
}
